## H264简介

### **H.264背景**
> **H.264则是由JVT共同制定的新数字视频编码标准**
-  **制定视频编解码技术的组织**
    1. ITU: International Telecommunication Union “国际电信联盟”
        ```sh
        # ITU提出了H.261、H.262、H.263、H.263+、H.263++，这些统称为H.26X系列
        # 主要应用于实时视频通信领域，如会议电视、可视电话等；
        ```
    2. ISO: “国际标准化组织”，ISO9001质量认证那个， IEC则是“国际电工委员会”
        ```sh
        # 1988年，ISO和IEC联合成立MPEG，Moving Picture Expert Group（动态图像专家组）
        # ISO/IEC提出了MPEG1、MPEG2、MPEG4、MPEG7、MPEG21，统称为MPEG系列。
        ```
    3. JVT： Joint Video Team，视频联合工作组。后来ITU和ISO/IEC联手成立的联合小组
        ```sh
        # H.264则是由JVT共同制定的新数字视频编码标准
        # H.264既是ITU-T的H.264，又是ISO/IEC的MPEG-4高级视频编码,将成为MPEG-4标准的第10部分
        # ITU与ISO合作研究后被称为MPEG4 Part10或H.264（JVT）
        ```
    4. **H.264是ITU-T以H.26x系列为名称命名的标准之一，AVC是ISO/IEC MPEG一方的称呼**

### **H.264的特点**
> **低码率情况下提供高质量的视频图像**
- **更高的编码效率** : 同H.263等标准的效率相比，能够平均节省大于50%的码率。
- **高质量的视频画面** 
    ```sh
    # 和MPEG2和MPEG4 ASP等压缩技术相比，在同等图像质量下，采用H.264技术压缩后的数据量只有MPEG2的1/8，MPEG4的1/3。
    # H.264能够在低码率情况下提供高质量的视频图像。
    ```
- **提高网络适应能力**
    ```sh
    # 可工作在实时通信应用（如视频会议）低延时模式下。
    # 可以工作在没有延时的视频存储或视频流服务器中。
    # H.264提供了网络抽象层（Network Abstraction Layer），使得H.264的文件能容易地在不同网络上传输
    #（例如互联网，CDMA，GPRS，WCDMA，CDMA2000等）
    ```
- **采用混合编码结构 - 具有很高的数据压缩比率**：
    ```sh
    # A. 同H.263相同，H.264也使用采用DCT变换编码加DPCM的差分编码的混合编码结构
    # B. 增加了如多模式运动估计、帧内预测、多帧预测、基于内容的变长编码、4x4二维整数变换等新的编码方式，提高了编码效率
    # C. 在同等图像质量的条件下，H.264的压缩比是MPEG-2的2倍以上，是MPEG-4的1.5～2倍。
    ```
- **H.264的编码选项较少**
    ```sh
    # 在H.263中编码时往往需要设置相当多选项，增加了编码的难度
    # 而H.264做到了力求简洁的“回归基本”，降低了编码时复杂度
    ```
- **H.264可以应用在不同场合**   
    ```sh
    # 可以根据不同的环境使用不同的传输和播放速率
    # 提供了丰富的错误处理工具
    # 可以很好的控制或消除丢包和误码
    ```
- **错误恢复功能** ： 提供了解决网络传输包丢失的问题的工具，适用于在高误码率传输的无线网络中传输视频数据。
- **较高的复杂度** ：据估计，H.264编码的计算复杂度大约相当于H.263的3倍，解码复杂度大约相当于H.263的2倍。

### **H264分层编码 SVC(Scalable Video Coding)**
> **可分层视频编解码，是一种能将视频流分割为多个分辨率、质量和帧速率层的技术**

- H.264SVC是以H.264为基础，在语法和工具集上进行了扩展，支持具有分级特性的码流。
    1. 语法上，NALU头扩展了，用于描述码流的分级信息，使用保留的NAL类型14、20编码增强层码流。
    2. H.264SVC是H.264标准的附录G，同时作为H.264新的profile。H.264SVC在2007年10月成为正式标准

- 编码器产生的码流包含一个或多个可以单独解码的子码流，子码流可以具有不同的码率，帧率和空间分辨率。
    1. 时域可分级（Temporal scalability）：可以从码流中提出具有不同帧频的码流。
    2. 空间可分级（Spatial scalability）：可以从码流中提出具有不同图像尺寸的码流。
    3. 质量可分级（Quality scalability）：可以从码流中提出具有不同图像质量的码流。
　
- 应用：
    1. 监控领域
        ```sh
        # a. 一种方案是Multi-Stream，监控视频流一般产生2路，主辅码流。
        # b. 一种方案是使用SVC(Scalable Video Coding)
        #    用SVC编码器可以产生2层的分级码流，1个基本层用于预览，1个增强层保证存储的图像质量是较高的。  
        #    使用手机远程监控预览的情况下，可以产生一个低码率的基本层。
        ```

    2. 视频会议领域
        ```sh
        # 视频会议终端利用SVC编出多分辨率，分层质量，会议的中心点替代传统MCU二次编解码方法改为视频路由分解转发。
        #也可在网络丢包环境下利用时域可分级，抛弃部分时域级实现网络适应性。在云视讯领域SVC也有想像空间。
        ```
    3. 流媒体IPTV应用 : 服务器可以根据不同的网络情况丢弃质量层，保证视频的流畅。
    4. 兼容不同网络环境和终端的应用。

- 优缺点：
    1. 灵活，有技术优势，新的编码器H.265也使用了分层思想，可以实现灵活的应用，也可提高网络适应性。
    2. 分级码流的解码复杂度增加。由于07年10月才成为标准，兼容性和通用性没那么好 

### **H265与H264的区别**
- 比起H.264/AVC，H.265/HEVC提供了更多不同的工具来降低码率
- 编码的宏块大小：以编码单位来说，H.264中每个宏块（macroblock/MB）大小都是固定的16x16像素，而H.265的编码单位是不固定的，可以选择从最小的8x8到最大的64x64
- 同样的画质和同样的码率，H.265比H2.64 占用的存储空间要少理论50%，带宽占用节省一半
- 采用了块的四叉树划分结构
    1. H.265相比H.264最主要的改变是采用了块的四叉树划分结构。一张图片，先划分四个大的宏块，然后每个宏块再次划分四个小的宏块，即四叉树形式划分。

[相关链接](https://www.cnblogs.com/leehm/p/13468138.html)



















