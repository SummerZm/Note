## **计算机的一些心得**

### 《程序员的自我修养》
- **计算机发展的过程围绕的主题**  
    1. 性能高效性：发展分时操作系统，多用户多线程操作系统，单核到多核硬件的发展。
    2. 安全稳定性：物理内存地址空间到虚拟内存地址空间，分段，分页。
    3. 工程拓展性：各种外设驱动的设配。

- **三大主题发展简介**
    1. 性能高效性
        ```sh
        # CPU避免闲置
        #  A. 多进程操作系统的引入,避免阻塞CPU空转,充分利用硬件资源 VS 资源抢占调度问题。
        #  B. 多线程的引入，避免进程空转，充分利用进程的时间片 VS 内存数据访问问题/进程的阻塞浪费。
        #     备注：用户层线程需要内核层线程支持；其实现方式： 1对1， 1对多， 多对多。
        #  C. 协程的引入，避免线程空转，在用户空间不陷入内核空间，减少上下文切换，充分利用线程的时间片 VS 内存数据访问问题/线程的阻塞浪费。
        #  D. 单核到多核的引入，多核上的进程或进程级线程可以实现并行 VS 资源抢占调度问题。
        #     备注：2004年已经达到单核性能顶峰4Ghz步入多核时代。
        #
        # 内存的置换的颗粒度
        #  A. 分页机制：内存不够时不用整个程序置换，换出局部。VS 内存管理的复杂度
        ```
    2. 安全稳定性
        ```sh
        # 内存共享问题
        #  A. 物理内存地址管理改成虚拟地址 VS 进程间共享完整物理地址空间，不安全。
        #     备注：32位的cpu有32根地址线索引2^32=4G大小的地址空间 
        # 
        # CPU并发各层面问题
        #  A. 软件层面： 锁，可重入函数；避免多进程/多线程分在某些顺序运行造成误修改。
        #  B. 编译器层面： volative；避免编译器动态优化，将数据直接放在寄存器内。
        #  C. 硬件层面：原子指令 和 barrier指令；避免CPU乱序执行优化。
        ```

    3. 工程拓展性
        ```sh
        # 内存布局
        #  A. 编译器将代码翻译成程序时需要进行内存布局，便于程序运行加载到内存合适的位置。分段机制提供了良好的加载时重定位机制。
        ```

     







