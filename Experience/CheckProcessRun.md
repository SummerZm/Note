## **检查自己拉起的日志程序状态**

- **背景：**
    1. 在程序中拉起公共的日志程序。由于日志程序可能被其他程序拉起，所以不能简单粗暴的 killall干掉，需要识别并干掉自己拉起的程序。
    2. 在嵌入式android系统设备中。

- **解决办法1**
    1. 做法：ps -ef 获取进程信息，然后grep日志程序，之后，awk 切割用户通过用户名确实是否为自身拉起的进程，最后kill指定进程号。
    2. 问题：会匹配到了两个 pid, 一个是由grep生成的；当pid发生回绕时, 获取进程信息的管道命令的pid 可能会在实际进程pid的前面。
    3. 相关命令：ps -ef | grep logcat | awk '$2 == \"root\" {print $1}'  | head -1

- **解决办法2**
    1. 做法：在自己程序中做软链接，链接向实际日志程序；拉起来时，用软连接的名字；这样ps时只需过滤grep这个自定义软件链接就OK了。
    2. 问题：软件链接建立失败时如何处理。

- **解决办法3**
    1. 做法：在日志程序参数中指定输出的自定义的文件名。这样同样可以根据ps -ef 信息中自带的文件名过滤。
    2. 问题：重定向的文件名并不会在 ps -ef 中出现；只有程序中支持的文件参数才可以被看见；看系统支不支持。





