## **架构设计的宏观视角**

### 计算机发展的历程
- **简单的数据存储，输入，输出跳转指令** [冯诺依曼体系结构] 
- **编程语言，编译器的出现** [指令难读问题]
- **操作系统的出现** [解决程序之间资源抢占互相干扰问题]
- **基础软件的出现(中间件)** [基础架构解决的是与业务无关的一些通用性的问题,通常以独立的软件存在,Linux、Nginx、MySQL、PHP]

### 服务端应用程序架构
- **服务端架构**
    ![计算机服务端框架](./Architecture.png)

- **客户端架构**
1. **面临的问题**[终端系统多样化]
    ```sh
    # PC: Windows、Mac、Linux 等数十种.
    # 手机: Android、iOS，Windows Mobile.
    # 备种类: 笔记本、平板电脑，还有手机、手表、汽车，未来只会更加多样化。
    ```

2. **前景趋势**
    ```sh
    # 第一个想消除客户端的多样性，并且跨平台提供统一编程接口的，是浏览器。
    # 浏览器: 
    #   A. 一旦某种浏览器流行起来，开发人员都在浏览器上做应用，
    #   B. 导致底层操作系统管道化，这是操作系统厂商所不愿意看到的。
    ```

3. **客户端架构**
    ![计算机客户端框架](./ArchitectureClient.png)

### 计算机指令的类型
- 计算类，也就是支持我们大家都熟知的各类数学运算，如加减乘除、sin/cos 等等。
- I/O 类，（从存储读写数据）从输入输出设备读数据、写数据。
- 指令跳转类，在满足特定条件下跳转到新的当前程序执行位置。

### 冯诺依曼体系结构
- 目的：解决一切可以用“计算”来解决的问题
- 组成：中央处理器，存储，输入输出设备
- 思维： 
    1. 架构的第一步是需求分析。从需求分析角度来说，关键要抓住需求的稳定点和变化点。
    2. 需求的稳定点，往往是系统的核心价值点；而需求的变化点，则往往需要相应去做开放性设计

### 汇编语言
> **汇编语言所解放的生产力是惊人的**
- 用文本符号（symbol）表达机器指令
- 用文本符号（symbol）表达要操作的内存地址
- 用文本符号（symbol）表达要调用的函数（function，也叫“过程 -procedure”）地址
- 用文本符号（symbol）表达要跳转的目标地址

### BIOS程序
- 在没有操作系统之前，BIOS 包含的内容很可能是下面这样的：
    1. 外置存储设备的驱动程序
    2. 基础外部设备的驱动程序，比如键盘、显示器
    3. 汇编语言的编辑器、编译器
    4. 把程序的源代码写入磁盘，从磁盘读入的能力
    
- 有了BIOS程序后，计算机就开始发展起它存储的能力：程序的源代码可以进行迭代演进了。这一步非常非常重要

### 操作系统的进场
- **软件治理**
- **统一编程接口**


### 编程范式的演化
- **过程式：就是以一条条命令的方式，让计算机按我们的意愿来执行**
- **函数式：本质上是过程式编程的一种约束，它最核心的主张就是变量不可变，函数尽可能没有副作用**
    1. 变量不可变，函数没有副作用，自然人们犯错的机会也就更少，代码质量就会更高。
- **面向对象在过程式的基础上，引入了对象（类）和对象方法（类成员函数）**
    1. 主张把方法（其实就是过程）归纳到合适的对象（类）上，不主张全局函数（过程）
    2. 好处：
        ```sh
        # A. 清晰的使用界面，某种类型的对象有哪些方法一目了然，而不像过程式编程，数据结构和过程的关系是非常松散的。
        # B. 信息的封装: 不主张绕过对象的使用接口侵入到对象的内部实现细节。
        ``` 
- **面向连接**
    1. 消息传递是多核背景下流行起来的一种编程思想，其核心主张是：尽可能用消息传递来取代共享内存，从而尽可能避免显式的锁，降低编程负担




